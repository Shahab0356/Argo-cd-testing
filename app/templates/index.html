<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EKS Demo Application</title>
  <style>
    /* (your existing styles kept) */
    /* ... copy the CSS you provided unchanged ... */
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üöÄ EKS Demo Application</h1>
      <p>Successfully deployed to Amazon EKS cluster via CI/CD pipeline</p>
      <p><small>Deployment: {{ deployment_tag }}</small></p>
    </div>

    <!-- rest of your HTML body -->
    <!-- Keep the same markup and script you provided -->
    <div class="card">
      <h2>About This Application</h2>
      <p>This is a demo Flask application that demonstrates a complete CI/CD pipeline deployment to Amazon EKS. The application is containerized with Docker, pushed to Amazon ECR, and deployed using Kubernetes manifests.</p>
      <p>The deployment process includes:</p>
      <ul style="margin-left: 20px; line-height: 1.8;">
        <li>GitHub Actions workflow automation</li>
        <li>Docker image building and tagging</li>
        <li>Amazon ECR image push</li>
        <li>Kubernetes deployment updates</li>
        <li>EKS cluster management</li>
      </ul>
    </div>

    <div class="card">
      <h2>Application Status</h2>
      <div class="status-grid">
        <div class="status-item">
          <h3>üè• Health Check</h3>
          <p id="health-status">Checking...</p>
        </div>
        <div class="status-item">
          <h3>üìä API Info</h3>
          <p id="api-info">Loading...</p>
        </div>
        <div class="status-item">
          <h3>‚è∞ Timestamp</h3>
          <p id="timestamp">-</p>
        </div>
      </div>
      <div style="text-align: center; margin-top: 20px;">
        <button class="btn" onclick="refreshStatus()">Refresh Status</button>
      </div>
    </div>

    <div class="card">
      <h2>Technology Stack</h2>
      <p><strong>Backend:</strong> Python Flask</p>
      <p><strong>Container:</strong> Docker</p>
      <p><strong>Registry:</strong> Amazon ECR</p>
      <p><strong>Orchestration:</strong> Kubernetes (EKS)</p>
      <p><strong>CI/CD:</strong> GitHub Actions</p>
      <p><strong>Infrastructure:</strong> AWS EKS</p>
    </div>

    <div class="footer">
      <p>&copy; 2024 EKS Demo Application | Built by MR-Shahab khan for Kubernetes</p>
    </div>
  </div>

  <script>
    function refreshStatus() {
      fetch('/health')
        .then(response => response.json())
        .then(data => {
          document.getElementById('health-status').textContent = data.status;
          document.getElementById('timestamp').textContent = new Date(data.timestamp).toLocaleString();
        })
        .catch(error => {
          document.getElementById('health-status').textContent = 'Error: ' + error.message;
        });

      fetch('/api/info')
        .then(response => response.json())
        .then(data => {
          document.getElementById('api-info').textContent = data.application;
        })
        .catch(error => {
          document.getElementById('api-info').textContent = 'Error: ' + error.message;
        });
    }

    document.addEventListener('DOMContentLoaded', refreshStatus);
  </script>
</body>
</html>
